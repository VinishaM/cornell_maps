<!DOCTYPE html>
<html>
  <head>
    <title>Home</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  </head>
  <body>
    <div id="nav">
      <ul class="nav nav-tabs">
          <li role="presentation" ><a href="index.html">Home</a></li>
          <li role="presentation" ><a href="founding.html">Founding</a></li>
          <li role="presentation" ><a href="growth.html">Growth</a></li>
          <li role="presentation" ><a href="war.html">War and Unrest</a></li>
          <li role="presentation" class='active'><a href="studentLife.html">Student Life</a></li>
      </ul>
    </div>
    <div id="info-panel">
        <h3>Student Life at Cornell</h3>
        <p>Cornell’s campus changed and expanded quickly in its first 50 years. Many generous benefactors made donations to the university and enacted buildings in their name, and notable faculty left their mark on the university with new programs of study.</p>
        <p>As a state-funded institution, Cornell was under the supervision of the state government, and also received funding to provide studies in the subjects deemed vital by the state. As such, the contract colleges were established; the New York State College of Veterinary Medicine, the New York State College of Home Economics, and the New York State College of Agriculture. The university’s prominence even brought requests from industry, which lead to the founding of a College of Hotel Administration.</p>
    </div>
    <div id="map"></div>
    <script type='text/javascript' src='config.js'></script>
    <script type='text/javascript' src='content/studentLife.js'></script>
    <script type='text/javascript' src='content/scavengerHunt.js'></script>
    <script>
      //get api key
      var mykey = config.MY_KEY;
      var url = "https://maps.googleapis.com/maps/api/js?key=" + mykey + "&callback=initMap"
      
      var tag = document.createElement('script');
      tag.src = url;
      tag.setAttribute('defer','');
      tag.setAttribute('asnyc', '');
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        
      function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 15,
          center: {lat: 42.447896, lng: -76.473442}
        });

        // loop though the content for this page, 
        // make a new pin for each element, adding it to the map, and adding an event 
        // listener to open the info on click.
        console.log(content)
        content.forEach(element => {     
          // info about this element
          var infowindow = new google.maps.InfoWindow({
            content: element.info
          });

          // pin at the location of this element
          var marker = new google.maps.Marker({
            position: element.location,
            map: map,
            title: element.title
          });

          // add listener to the pin to open the info
          marker.addListener('click', function() {
            infowindow.open(map, marker);
          });
        });
      }
    </script>
  </body>
</html>